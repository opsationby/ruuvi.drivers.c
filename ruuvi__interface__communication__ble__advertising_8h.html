<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ruuvi.drivers.c: src/interfaces/communication/ruuvi_interface_communication_ble_advertising.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ruuvi.drivers.c
   &#160;<span id="projectnumber">0.1.3</span>
   </div>
   <div id="projectbrief">Drivers for external sensors and peripherals on embedded systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ruuvi__interface__communication__ble__advertising_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ruuvi_interface_communication_ble_advertising.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ruuvi__driver__enabled__modules_8h_source.html">ruuvi_driver_enabled_modules.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ruuvi__driver__error_8h_source.html">ruuvi_driver_error.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ruuvi__interface__communication_8h_source.html">ruuvi_interface_communication.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ruuvi__interface__communication__radio_8h_source.html">ruuvi_interface_communication_radio.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
</div>
<p><a href="ruuvi__interface__communication__ble__advertising_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structri__adv__scan__t.html">ri_adv_scan_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aeae6254c9688c12ff48a816ebcfab979"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeae6254c9688c12ff48a816ebcfab979">BLE_MAC_ADDRESS_LENGTH</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:aeae6254c9688c12ff48a816ebcfab979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e19ad5e029b3116bc6135f26594890"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a06e19ad5e029b3116bc6135f26594890">BLE_SCAN_DATA_LENGTH</a>&#160;&#160;&#160;31</td></tr>
<tr class="memdesc:a06e19ad5e029b3116bc6135f26594890"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes in a BLE scan data.  <a href="#a06e19ad5e029b3116bc6135f26594890">More...</a><br/></td></tr>
<tr class="separator:a06e19ad5e029b3116bc6135f26594890"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4fbdf36956c60ee49c29631c2d3df5df"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a> { <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfaad6479d9fb04166a26e11755d4f5a67e">NONCONNECTABLE_NONSCANNABLE</a>, 
<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfa927df6c5aec5d8f8e31edb85009ab414">CONNECTABLE_NONSCANNABLE</a>, 
<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfadb9801fa198d569fe987d3639cccc51f">CONNECTABLE_SCANNABLE</a>, 
<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5dfa6cb255b6465d01888eff91881d20563e">NONCONNECTABLE_SCANNABLE</a>
 }</td></tr>
<tr class="memdesc:a4fbdf36956c60ee49c29631c2d3df5df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alloved advertisement types.  <a href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">More...</a><br/></td></tr>
<tr class="separator:a4fbdf36956c60ee49c29631c2d3df5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9503639d800dfd77d98fd2d68246bdd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a9503639d800dfd77d98fd2d68246bdd8">ri_adv_init</a> (<a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const channel)</td></tr>
<tr class="memdesc:a9503639d800dfd77d98fd2d68246bdd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Advertising module and scanning module.  <a href="#a9503639d800dfd77d98fd2d68246bdd8">More...</a><br/></td></tr>
<tr class="separator:a9503639d800dfd77d98fd2d68246bdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad151b93560ab505cc6f9387ea0c729ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad151b93560ab505cc6f9387ea0c729ee">ri_adv_uninit</a> (<a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const channel)</td></tr>
<tr class="separator:ad151b93560ab505cc6f9387ea0c729ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad840b509c98da4df1bbd60839377d4e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad840b509c98da4df1bbd60839377d4e0">ri_adv_tx_interval_set</a> (const uint32_t ms)</td></tr>
<tr class="separator:ad840b509c98da4df1bbd60839377d4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad984ccc177df02949f5af1c5ffd4b05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aad984ccc177df02949f5af1c5ffd4b05">ri_adv_tx_interval_get</a> (uint32_t *ms)</td></tr>
<tr class="memdesc:aad984ccc177df02949f5af1c5ffd4b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for broadcast advertisement interval.  <a href="#aad984ccc177df02949f5af1c5ffd4b05">More...</a><br/></td></tr>
<tr class="separator:aad984ccc177df02949f5af1c5ffd4b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9053fcf126e5247c8542db1f414a7bbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a9053fcf126e5247c8542db1f414a7bbe">ri_adv_manufacturer_id_set</a> (const uint16_t id)</td></tr>
<tr class="memdesc:a9053fcf126e5247c8542db1f414a7bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set manufacturer ID of manufacturer specific advertisement.  <a href="#a9053fcf126e5247c8542db1f414a7bbe">More...</a><br/></td></tr>
<tr class="separator:a9053fcf126e5247c8542db1f414a7bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb60940b2398aedeec2a2d0ea8463677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#adb60940b2398aedeec2a2d0ea8463677">ri_adv_tx_power_set</a> (int8_t *dbm)</td></tr>
<tr class="memdesc:adb60940b2398aedeec2a2d0ea8463677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set radio TX power.  <a href="#adb60940b2398aedeec2a2d0ea8463677">More...</a><br/></td></tr>
<tr class="separator:adb60940b2398aedeec2a2d0ea8463677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcea6cf666726dad06a67e9ddfd2aca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a8dcea6cf666726dad06a67e9ddfd2aca">ri_adv_tx_power_get</a> (int8_t *dbm)</td></tr>
<tr class="memdesc:a8dcea6cf666726dad06a67e9ddfd2aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get radio TX power.  <a href="#a8dcea6cf666726dad06a67e9ddfd2aca">More...</a><br/></td></tr>
<tr class="separator:a8dcea6cf666726dad06a67e9ddfd2aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97803f04f00d968446a25338c78e5308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a97803f04f00d968446a25338c78e5308">ri_adv_scan_response_setup</a> (const char *const name, const bool advertise_nus)</td></tr>
<tr class="memdesc:a97803f04f00d968446a25338c78e5308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure advertising data with a scan response.  <a href="#a97803f04f00d968446a25338c78e5308">More...</a><br/></td></tr>
<tr class="separator:a97803f04f00d968446a25338c78e5308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3376345d0dd8981cd9b415d675f51d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#ad3376345d0dd8981cd9b415d675f51d1">ri_adv_type_set</a> (<a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a> type)</td></tr>
<tr class="memdesc:ad3376345d0dd8981cd9b415d675f51d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the type of advertisement.  <a href="#ad3376345d0dd8981cd9b415d675f51d1">More...</a><br/></td></tr>
<tr class="separator:ad3376345d0dd8981cd9b415d675f51d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc90c62e5b7ceacbd4f116d191924bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aafc90c62e5b7ceacbd4f116d191924bd">ri_adv_stop</a> (void)</td></tr>
<tr class="memdesc:aafc90c62e5b7ceacbd4f116d191924bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ongoing advertisements.  <a href="#aafc90c62e5b7ceacbd4f116d191924bd">More...</a><br/></td></tr>
<tr class="separator:aafc90c62e5b7ceacbd4f116d191924bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f88bcd2ef238f1e2556fb91a36b5303"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a1f88bcd2ef238f1e2556fb91a36b5303">ri_adv_scan_start</a> (const uint32_t window_interval_ms, const uint32_t window_size_ms)</td></tr>
<tr class="memdesc:a1f88bcd2ef238f1e2556fb91a36b5303"><td class="mdescLeft">&#160;</td><td class="mdescRight">setup scan window interval and window size.  <a href="#a1f88bcd2ef238f1e2556fb91a36b5303">More...</a><br/></td></tr>
<tr class="separator:a1f88bcd2ef238f1e2556fb91a36b5303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac644966a1bd24a0ee17c2583187e25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeac644966a1bd24a0ee17c2583187e25">ri_adv_scan_stop</a> (void)</td></tr>
<tr class="memdesc:aeac644966a1bd24a0ee17c2583187e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ongoing scanning.  <a href="#aeac644966a1bd24a0ee17c2583187e25">More...</a><br/></td></tr>
<tr class="separator:aeac644966a1bd24a0ee17c2583187e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1d5f6a3d12c4f5051afb23872c8794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aaa1d5f6a3d12c4f5051afb23872c8794">ri_adv_channels_enable</a> (const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a> channel)</td></tr>
<tr class="memdesc:aaa1d5f6a3d12c4f5051afb23872c8794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select active channels.  <a href="#aaa1d5f6a3d12c4f5051afb23872c8794">More...</a><br/></td></tr>
<tr class="separator:aaa1d5f6a3d12c4f5051afb23872c8794"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Otso Jousimaa <a href="#" onclick="location.href='mai'+'lto:'+'ots'+'o@'+'ojo'+'us'+'ima'+'.n'+'et'; return false;">otso@<span style="display: none;">.nosp@m.</span>ojou<span style="display: none;">.nosp@m.</span>sima.<span style="display: none;">.nosp@m.</span>net</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-03-26 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Ruuvi Innovations Ltd, license BSD-3-Clause.</dd></dl>
<p>Commmon definitions and functions for all BLE advertising. </p>

<p>Definition in file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aeae6254c9688c12ff48a816ebcfab979"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_MAC_ADDRESS_LENGTH&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00025">25</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06e19ad5e029b3116bc6135f26594890"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_SCAN_DATA_LENGTH&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of bytes in a BLE scan data. </p>

<p>Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00033">33</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4fbdf36956c60ee49c29631c2d3df5df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alloved advertisement types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a4fbdf36956c60ee49c29631c2d3df5dfaad6479d9fb04166a26e11755d4f5a67e"></a>NONCONNECTABLE_NONSCANNABLE</em>&#160;</td><td class="fielddoc">
<p>Nonconnectable, nonscannable. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4fbdf36956c60ee49c29631c2d3df5dfa927df6c5aec5d8f8e31edb85009ab414"></a>CONNECTABLE_NONSCANNABLE</em>&#160;</td><td class="fielddoc">
<p>Connectable, nonscannable. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4fbdf36956c60ee49c29631c2d3df5dfadb9801fa198d569fe987d3639cccc51f"></a>CONNECTABLE_SCANNABLE</em>&#160;</td><td class="fielddoc">
<p>Connectable, scannable. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4fbdf36956c60ee49c29631c2d3df5dfa6cb255b6465d01888eff91881d20563e"></a>NONCONNECTABLE_SCANNABLE</em>&#160;</td><td class="fielddoc">
<p>Nonconnectable, scannable. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html#l00037">37</a> of file <a class="el" href="ruuvi__interface__communication__ble__advertising_8h_source.html">ruuvi_interface_communication_ble_advertising.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aaa1d5f6a3d12c4f5051afb23872c8794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_channels_enable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structri__radio__channels__t.html">ri_radio_channels_t</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select active channels. </p>
<p>If advertisement was configured on repeat, calling this function has no effect to advertisements on send queue.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9503639d800dfd77d98fd2d68246bdd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Advertising module and scanning module. </p>
<p>Initially channels 37, 38 and 39 are enabled. Modulation is decided by radio initialization. If <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aec92aafa11d414da0751cdc2d40dad7e">RI_RADIO_BLE_125KBPS</a> or <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869a2b5147f448dc45d8e789912445d9713b">RI_RADIO_BLE_1MBPS</a> is set, primary phy is the configured one and no secondary PHY is used. If modulation is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aa68b3680791e86e47836f20d6fab3e72">RI_RADIO_BLE_2MBPS</a> primary PHY is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869a2b5147f448dc45d8e789912445d9713b">RI_RADIO_BLE_1MBPS</a> and secondary PHY is <a class="el" href="group___radio.html#ggaefe7333d14b184403ba244161a094869aa68b3680791e86e47836f20d6fab3e72">RI_RADIO_BLE_2MBPS</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">channel</td><td>Interface used for communicating through advertisements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success, </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>Channel is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not already initialized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Modulation used on the advertisement depends on how radio was initialized. </dd></dl>

</div>
</div>
<a class="anchor" id="a9053fcf126e5247c8542db1f414a7bbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_manufacturer_id_set </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set manufacturer ID of manufacturer specific advertisement. </p>
<p>Will take effect on next send. Has no effect on already queued messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID of manufacturer, MSB first. E.g. 0x0499 for Ruuvi Innovations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97803f04f00d968446a25338c78e5308"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_response_setup </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>advertise_nus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure advertising data with a scan response. </p>
<p>The scan response must be separately enabled by setting advertisement type as scannable. This setting has effect starting from the next time send is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name to advertise, NULL-terminated string. Max 27 characters if not advertising NUS, 10 characters if NUS is advertised. NULL won't be included in advertisement. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">advertise_nus</td><td>True to include Nordic UART Service UUID in scan response. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">@ref</td><td>RD_SUCCESS on success </td></tr>
    <tr><td class="paramname">@ref</td><td>RD_ERROR_NULL if name is NULL </td></tr>
    <tr><td class="paramname">@ref</td><td>RD_ERROR_DATA_SIZE if name will be cut. However the abbreviated name will be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1f88bcd2ef238f1e2556fb91a36b5303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_start </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>window_interval_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>window_size_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setup scan window interval and window size. </p>
<p>The scan window interval must be larger or equivalent to window size. Example: Interval 1000 ms, window size 100 ms. The scanning will scan 100 ms at channel 37, wait 900 ms, scan 100 ms at channel 38, wait 900 ms, scan 100 ms at channel 39. After scan has finished RI_COMM_TIMEOUT event is triggered if initialized channel has event handler.</p>
<p>Scan is started immediately after calling this function and ended once timeout occurs or <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#aeac644966a1bd24a0ee17c2583187e25">ri_adv_scan_stop</a> is called.</p>
<p>Raw scan results are passed to given event handler as on_received events with <a class="el" href="structri__adv__scan__t.html">ri_adv_scan_t</a> as a parameter.</p>
<p>If the message contains Ruuvi-specific advertisement data, the payload is inserted into a <a class="el" href="structri__comm__message__t.html" title="Application message definition. ">ri_comm_message_t</a> with repeat = 0 and it can be read via</p>
<p>This function is not suitable for establishing connections to peripherals, if central mode is supported in the future a separate connection initialization function is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">window_interval_ms</td><td>interval of the window. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">window_size_ms</td><td>window size within interval. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RD_SUCCESS on success. </dd>
<dd>
RD_ERROR_INVALID_STATE if scan is ongoing. </dd>
<dd>
RD_ERROR_INVALID_PARAM if window is larger than interval or values are otherwise invalid. </dd></dl>

</div>
</div>
<a class="anchor" id="aeac644966a1bd24a0ee17c2583187e25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_scan_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ongoing scanning. </p>
<p>If advertisement was configured on repeat, calling this function stops advertising before the repeat counter has been reached. This function can be safely called even if no advertising is ongoing.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aafc90c62e5b7ceacbd4f116d191924bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ongoing advertisements. </p>
<p>If advertisement was configured on repeat, calling this function stops advertising before the repeat counter has been reached. Any queued advertisements are cancelled. This function can be safely called even if no advertising is ongoing.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>if no more advertisements are ongoing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad984ccc177df02949f5af1c5ffd4b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_interval_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for broadcast advertisement interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ms</td><td>Milliseconds between transmission, without the random delay. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>If ms is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if advertisement module is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad840b509c98da4df1bbd60839377d4e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_interval_set </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8dcea6cf666726dad06a67e9ddfd2aca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_power_get </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>dbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get radio TX power. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dbm</td><td>Radio power. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>if dbm is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adb60940b2398aedeec2a2d0ea8463677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_tx_power_set </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>dbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set radio TX power. </p>
<p>Takes effect on next call to send, messages already in send queue are not affected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dbm</td><td>Radio power. Supported values are board-dependent. Value is interpreted as "at least", power is set to smallest value which satisfies the desired level. Actual value is set to pointed parameter as an output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RD_ERROR_NULL</td><td>if dbm is NULL. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if radio is not initialized. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_PARAM</td><td>if given power level is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3376345d0dd8981cd9b415d675f51d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_type_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the type of advertisement. </p>
<p>Advertisement can be connectable, scannable, both or neither: <a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html#a4fbdf36956c60ee49c29631c2d3df5df">ri_adv_type_t</a>. It is possible to setup scannable advertisement before setting up scan response, in this case scan response will be 0-length and empty until scan resonse if configured. If the advertisement has to be extended type, the implementation will automatically select extended advertisement.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RD_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RD_ERROR_INVALID_STATE</td><td>if advertisements are not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad151b93560ab505cc6f9387ea0c729ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#ga3e1919cc1fe75cb7f12af047f6f4ce55">rd_status_t</a> ri_adv_uninit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structri__comm__channel__t.html">ri_comm_channel_t</a> *const&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ee3f1a7951c308657a65f8199076c1d6.html">interfaces</a></li><li class="navelem"><a class="el" href="dir_2016479bd7cb546fd87fb6e3bcdb02c1.html">communication</a></li><li class="navelem"><a class="el" href="ruuvi__interface__communication__ble__advertising_8h.html">ruuvi_interface_communication_ble_advertising.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
